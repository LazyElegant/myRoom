<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

	<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" type="text/css">
	<link rel="stylesheet" type="text/css" th:href='@{/css/common.css}'>

	<meta charset="utf-8">
	<title>视频管理</title>

	<style>
		.entry-header{
			width: 250px;
		}
		table{
			border: lightsteelblue 1px solid;
		}
		table tr th{
			padding: 13px 23px;
			text-align: center;
			border: lightsteelblue 1px solid;
		}
		.posts-loop{
			min-height: 600px;
		}
		table tr td{
			padding: 13px 23px;
			text-align: center;
			border: lightsteelblue 1px solid;
		}
		table tr td button{
			margin-left: 3px;
		}

		h3{
			font-size:19px;
		}
		h2{
			font-size:20px;
		}
		h1{
			font-size:22px;
			margin: 0px;
		}
		button {
			background: #FC5A5A;
			color: #fff;
			padding: 16px 25px;
			font-size: 12px;
			font-weight: 700;
			line-height: 1em;
			text-align: center;
			text-transform: uppercase;
			-webkit-transition: all .3s ease-out;
			-moz-transition: all .3s ease-out;
			transition: all .3s ease-out;
			border: 0;
			position: relative;
			overflow: hidden;
		}
	</style>

	<script type='text/javascript' th:src='@{/js/jquery-3.4.1.js}' id='jquery-core-js'></script>

</head>
<body class="home blog custom-background fullwidth ie-shortcodes  ie-shortcodes-responsive group-blog">

<div id="page" class="hfeed site layout-fullwidth">

	<div th:replace="~{commons/commons::hea}"></div>
	<div id="site-content" class="site-content">
		<div class="container">
			<div class="row">
				<div class="content-area posts-loop full-width-layout col-md-12" id="primary">
					<main id="main" class="site-main row big-posts">
						<div  class="masonry-item big-item col-md-12 col-sm-12 col-xs-12">

							<div th:replace="~{commons/commons::manage}"></div>
							<div id="post-2202" style="margin-left:200px;width: 1000px;float: left;padding: 15px;">
								<article class="styled">
									<table >
										<tr>
											<th>id</th>
											<th>课程名</th>
											<th style="width: 300px">相关介绍</th>
											<th>操作</th>
										</tr>
										<tr th:each="video:${videos}">
											<td th:text="${video.getId()}"></td>
											<td th:text="${video.getVideo_name()}"></td>
											<td th:text="${#strings.abbreviate(video.getVideo_introduce(),100)}"></td>
											<td th:id="${video.getId()}">
												<form method="post"  enctype="multipart/form-data" th:action="@{/uploading}">
													<input type="file" name="myfile"  style="display:none"/>
													<input type="text" name="id" th:value="${video.getId()}" style="display:none">
												</form>
												<button th:if="${video.getCourseware() == 0}" type="submit" class="uploading">上传课件</button>
												<button th:if="${video.getCourseware() == 1}" type="submit" class="check">完成情况</button>
												<button  type="submit" class="detele">删除</button></td>
										</tr>
									</table>

								</article>
							</div>
						</div>
					</main>
				</div>
			</div>
		</div>
	</div>
	<div th:replace="~{commons/commons::footer}"></div>

</div>
<script>
	$(".detele").click(function (){
		if(confirm("确定删除该课程（该课程下的视频与产生的评论会被删除）?")){
			var thisURL = document.location.href;
			var  id = $(this).parent().attr('id');
			document.location.href = thisURL + "/deleteVideo?id=" + id;
		}
	})
	$(".check").click(function (){

		var thisURL = document.location.href;
		var  id = $(this).parent().attr('id');
		document.location.href = thisURL + "/wordManage?id=" + id;
	})
	$(".uploading").click(function (event){
		 $(this).prev().children()[0].click();
	})
	$("input[type=file]").change(function(e){
		$(this).parent().submit()
	})
</script>
</body>
</html>