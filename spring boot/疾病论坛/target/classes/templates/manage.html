<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>

		<link rel="stylesheet" type="text/css" th:href="@{/lib/editormd/css/editormd.css}" />
		<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" type="text/css">
		<link rel="stylesheet" th:href="@{/css/common.css}" type="text/css">

		<meta charset="utf-8">
		<title>编辑文章</title>
		<style>
			h3{
				font-size:20px;
			}
			h2{
				font-size:21px;
			}
			h1{
				font-size:22px;
				margin: 0px;
			}
			select{
				color: slategrey;
				margin-left: 20px;
				font-size: 15px;
				padding: 10px;
				width: 300px;
			}
			option{
				font-size: 15px;
			}
			.edit{
				height: 500px;
				z-index: 10;
				font-size: 20px;
				resize: none;
			}
		</style>

		<script type='text/javascript' th:src='@{/js/jquery-3.4.1.js}' id='jquery-core-js'></script>
		<script type='text/javascript' th:src='@{/js/common.js}'></script>
		<script th:src="@{/lib/editormd/editormd.js}"></script>

	</head> 
	<body class="home blog custom-background fullwidth ie-shortcodes  ie-shortcodes-responsive group-blog">
		
		<div id="page" class="hfeed site layout-fullwidth">
			<div th:replace="~{commons/commons::hea}"></div>
			<div id="site-content" class="site-content">
				<div class="container">
					<div class="row">
						<div class="content-area posts-loop full-width-layout col-md-12" id="primary">
							<main id="main" class="site-main row big-posts">
								<div  class="masonry-item big-item col-md-12 col-sm-12 col-xs-12">
									<div th:replace="~{commons/commons::manage}"></div>
									<div id="post-2202" style="width: 800px;float: left;padding: 15px;">
										<article class="styled">
											<form  method="post" enctype="multipart/form-data"  th:action="@{/addForum}">

												<h3>文章标题</h3>
												<input style="width: 400px;height: 40px;line-height: 40px;margin-left: 15px;" name="btn" class="form-control" type="text" id="btn"/>
												<h3>作者</h3>
												<input style="width: 400px;height: 40px;line-height: 40px;margin-left: 15px;" name="name" class="form-control" type="text" th:value="${session.user.getId()}" id="name" onfocus=this.blur() />
												<h3>文章内容</h3>

												<br />
												<div class="edit">
													<div id="test-editor">
														<textarea style="display:none;" name="text"></textarea>
													</div>
												</div>
												<br />

												<div class="form-group" style="margin-left: 320px ;">
													<button type="submit" name="editor" value="发布" > 发布文章 </button>
												</div>
											</form>
										</article>
									</div>
								</div>
							</main>
						</div>
					</div>
				</div>
			</div>
			<div th:replace="~{commons/commons::footer}"></div>
			
		</div>

<script>

		function readURLOne(input) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();
				reader.onload = function(e) {
					$('#imageOnePreview').css('background-image', 'url('+e.target.result +')');
					$('#imageOnePreview').css('background-repeat','no-repeat');
					$('#imageOnePreview').css('background-size','100% 100%');
					$('#imageOnePreview').hide();
					$('#imageOnePreview').fadeIn(650);
				}
				reader.readAsDataURL(input.files[0]);
			}
		}
		$("#imageOne").change(function() {
			readURLOne(this);
		});
		function addImg() {
			$("#imageOne").click();
		}

		function UpdateImg() {
			$("#image").click();

		}
		$("#image").change(function() {
			readURL(this);
		});
		function readURL(input) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();
				reader.onload = function(e) {
					$('.Column-img').attr('src',e.target.result);
					$('.Column-img').hide();
					$('.Column-img').fadeIn(650);
				}
				reader.readAsDataURL(input.files[0]);
			}
		}
	</script>

		<script type="text/javascript">
			$(function() {
				var editor = editormd("test-editor", {
					path   : "lib/editormd/lib/"
				});
			});
		</script>
	</body>
</html>