<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>

		<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" type="text/css">
		<link rel="stylesheet" th:href="@{/css/common.css}" type="text/css">

		<meta charset="utf-8">
		<title>文章类别管理</title>
	<style>
		.ify{
			width: 320px;
		}
		.ify li{
			font-size: 19px;
			margin: 15px 15px 25px;
		}
		.ify li button{
			float: right;
			line-height: 5px;
			margin-left: 15px;
			padding: 13px;
		}
		.posts-loop{
			min-height: 600px;
		}
		h3{
			font-size:19px;
		}
		h2{
			font-size:20px;
		}
		h1{
			font-size:22px;
			margin: 0px;
		}
	</style>
		<script type='text/javascript' th:src='@{/js/jquery-3.4.1.js}' id='jquery-core-js'></script>
		<script type='text/javascript' th:src='@{/js/common.js}'></script>
	</head>
	<body class="home blog custom-background fullwidth ie-shortcodes  ie-shortcodes-responsive group-blog">
		
		<div id="page" class="hfeed site layout-fullwidth">

			<div th:replace="~{commons/commons::hea}"></div>
			<div id="site-content" class="site-content">
				<div class="container">
					<div class="row">
						<div class="content-area posts-loop full-width-layout col-md-12" id="primary">
							<main id="main" class="site-main row big-posts">
								<div  class="masonry-item big-item col-md-12 col-sm-12 col-xs-12">

									<div th:replace="~{commons/commons::manage}"></div>
									<div id="post-2202" style="width: 800px;float: left;padding: 15px;">
										<article class="styled">
											<button type="submit" id="addfix">添加类别</button>
											<h2>已有类别</h2>
											
											<ul class="ify">
												<li th:id="${classes.getIfy_num()}" th:each="classes:${session.classes}"><a href="#" th:text="${classes.getIfy_name()}"></a><button type="submit" class="update"> 修改 </button><button  type="submit" class="detele"> 删除 </button></li>
											</ul>
										</article>
									</div>
								</div>
							</main>
						</div>
					</div>
				</div>
			</div>
			<div th:replace="~{commons/commons::footer}"></div>
			
		</div>


<script>
		$("#addfix").click(function (){
			var  tn = prompt("输入新的类别");
			if(tn !== null) {
				var thisURL = document.location.href;
				document.location.href = thisURL + "/addClasses?ify_name=" + tn;
			}
		})
		$(".detele").click(function (){
			if(confirm("确定删除该分类（同时会将该分类所有的文章一块删除）?")){
				var thisURL = document.location.href;
				var  id = $(this).parent().attr('id');
				document.location.href = thisURL + "/deteleClasses?ify_num=" + id;
			}
		})
		$(".update").click(function () {
			var  tn = prompt("输入新的类别名");
			if(tn !== null){
				var thisURL = document.location.href;
				var  id = $(this).parent().attr('id');
				document.location.href = thisURL + "/updateClasses?ify_num=" + id + "&ify_name=" + tn;
			}
		})
	</script>
	</body>
</html>


